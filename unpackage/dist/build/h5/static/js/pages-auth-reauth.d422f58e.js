(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-auth-reauth"],{"1cbc":function(t,e,n){"use strict";var o,u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view")},i=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}))},2004:function(t,e,n){"use strict";n.r(e);var o=n("1cbc"),u=n("a9be");for(var i in u)"default"!==i&&function(t){n.d(e,t,(function(){return u[t]}))}(i);var r,a=n("f0c5"),s=Object(a["a"])(u["default"],o["b"],o["c"],!1,null,"73afa546",null,!1,o["a"],r);e["default"]=s.exports},7169:function(t,e,n){"use strict";(function(t){var o=n("ee27");n("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(n("276c")),i=o(n("e954")),r=(o(n("e143")),function(){function e(){(0,u.default)(this,e)}return(0,i.default)(e,[{key:"http",value:function(e,n,o){t.log("heetp data",n),uni.showLoading({mask:!0});var u="/xgk-gz",i=uni.getStorageSync("token")||"";return t.log("token==="+i),new Promise((function(t,r){uni.request({url:"".concat(u).concat(e),data:n,method:o,header:{"X-CSRF-TOKEN":i,"X-Requested-With":"XMLHttpRequest"},success:function(e){"401"!=e.statusCode?"200"==e.statusCode?t(e.data):uni.showToast({title:"系统开小差了~",icon:"none"}):uni.showToast({title:"token 失效，请重新登陆",icon:"none"})},fail:function(t){uni.showToast({title:"请求失败",icon:"none"},2e3)},complete:function(){uni.hideLoading()}})}))}}]),e}());e.default=r}).call(this,n("5a52")["default"])},a129:function(t,e,n){"use strict";var o=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.auth=i,e.analysis=r;var u=o(n("e7d8"));n("de8c");function i(t){u.default.isAuth({open_id:t}).then((function(e){if("2000000"===e.status){var n=e.data,o=n.isAuth;if("1"===o)u.default.auth({open_id:t}).then((function(t){if(0===t.status){var e=t.data.data,n=e.token;uni.setStorageSync("token",n),uni.hideLoading()}else uni.showToast({title:"网络错误auth~",icon:"none"}),uni.hideLoading()}));else{var i=n.authUrl;window.location.href=i,uni.hideLoading()}}else uni.showToast({title:"请先登录~"})}))}function r(){var t=document.createElement("script");t.src="https://hm.baidu.com/hm.js?752b4121e4f0f62558b88caed08e0770";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}},a9be:function(t,e,n){"use strict";n.r(e);var o=n("afe1"),u=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=u.a},afe1:function(t,e,n){"use strict";var o=n("ee27");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(n("e7d8")),i=n("a129"),r={data:function(){return{}},onLoad:function(t){var e=t.code;u.default.auth({code:e}).then((function(t){if(0===t.status){var e=t.data.data,n=e.token;uni.setStorageSync("token",n),uni.switchTab({url:"../index/index"})}else uni.showToast({title:"网络错误~",icon:"none"})})),(0,i.analysis)()},methods:{}};e.default=r},de8c:function(t,e,n){"use strict";n("d3b7"),n("acd8"),n("4d63"),n("ac1f"),n("25f0"),n("466d"),n("5319"),n("841c"),n("1276"),n("498a"),Object.defineProperty(e,"__esModule",{value:!0}),e.GetQueryString=s,e.default=void 0;var o={isCardNo:function(t){var e=t.length;if(e<15||e>18)return uni.showToast({title:"输入的身份证号码长度不正确定！应为15位或18位",icon:"none"}),!1;var n=/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/,o=/^[1-9][0-9]{5}([1][9][0-9]{2}|[2][0][0|1][0-9])([0][1-9]|[1][0|1|2])([0][1-9]|[1|2][0-9]|[3][0|1])[0-9]{3}([0-9]|[X])$/,u=n.test(t)||o.test(t);return 0==u?(uni.showToast({title:"输入的身份证号格式不正确",icon:"none"}),!1):u},checkWord:function(t){var e=/^[A-Za-z0-9]+$/,n=e.test(t);return n},getUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){return("x"===t?16*Math.random()|0:8).toString(16)}))},compareDate:function(t,e){var n=new Date(t),o=new Date(e);return!(n.getTime()-o.getTime()>0)},checkIntNumber:function(t){return null==t||""==t?(uni.showToast({title:"请输入所在班级",icon:"none"}),!1):/(^[1-9]\d*$)/.test(t)?!(t>=100)||(uni.showToast({title:"班级必须小于100",icon:"none"}),!1):(uni.showToast({title:"请输入小于100的正整数",icon:"none"}),!1)},isEmpty:function(t){var e=t.replace(/(^\s*)|(\s*$)/g,"");return""==e||e.length<=0||null==t},specialChar:function(t){var e=/[`~!@#$%^&*()_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*（）——\-+={}|《》？：“”【】、；‘'，。、]/im;return!!e.test(t)},specialCharExcept:function(t){var e=/[`~!@#$%^&*_\-+=<>?:"{}|,.\/;'\\[\]·~！@#￥%……&*——\-+={}|《》？：“”【】、；‘'，。、]/im;return!!e.test(t)},checkCard:function(t){if(""==t||void 0==t||null==t||t.length>0&&0==t.trim().length)return uni.showToast({title:"身份证号码不能为空",icon:"none"}),!1;if(15==t.length)return!!i(t)||(uni.showToast({title:"请输入正确的身份证",icon:"none"}),!1);if(18==t.length){var e=t.split("");return!(!r(t)||!a(e))||(uni.showToast({title:"请输入正确的身份证",icon:"none"}),!1)}return uni.showToast({title:"身份证长度不正确",icon:"none"}),!1},checkPhone:function(t){var e=/^((13[0-9]|14[56789]|15[0-3,5-9]|16[5-6]|17[012345678]|18[0-9]|19[189])\d{8})$/;return""==t||void 0==t||null==t||t.length>0&&0==t.trim().length?(uni.showToast({title:"紧急联络人联系方式不能为空",icon:"none"}),!1):!!e.test(t)||(uni.showToast({title:"紧急联络人联系方式不合法",icon:"none"}),!1)},guid:function(){return u()+u()+u()+u()+u()+u()+u()+u()}};function u(){return(65536*(1+Math.random())|0).toString(16).substring(1)}function i(t){var e=t.substring(6,8),n=t.substring(8,10),o=t.substring(10,12),u=new Date(e,parseFloat(n)-1,parseFloat(o));return u.getYear()==parseFloat(e)&&u.getMonth()==parseFloat(n)-1&&u.getDate()==parseFloat(o)}function r(t){var e=t.substring(6,10),n=t.substring(10,12),o=t.substring(12,14),u=new Date(e,parseFloat(n)-1,parseFloat(o));return u.getFullYear()==parseFloat(e)&&u.getMonth()==parseFloat(n)-1&&u.getDate()==parseFloat(o)}function a(t){var e=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],n=[1,0,10,9,8,7,6,5,4,3,2],o=0;"x"==t[17].toLowerCase()&&(t[17]=10);for(var u=0;u<17;u++)o+=e[u]*t[u];var i=o%11;return t[17]==n[i]}function s(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(e);return null!=n?unescape(n[2]):null}e.default=o},e7d8:function(t,e,n){"use strict";var o=n("ee27");n("d3b7"),n("25f0"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(n("7169")),i=(new u.default).http,r=new Date,a=(r.getTime().toString(),{getIndexCourse:function(t){return i("/course/index",t,"GET")},getAllCourse:function(t){return i("/course/list",t,"GET")},getMyCourse:function(t){return i("/usercourse/myCourseList",t,"GET")},getDetail:function(t){return i("/course/courseDetail",t,"GET")},appointment:function(t){return i("/usercourse/appointment",t,"POST")},isAuth:function(t){return i("/icity/auth",t,"GET")},auth:function(t){return i("/sso/icity/authorize",t,"GET")},courseLike:function(t){return i("/course/like",t,"GET")},myIcityInfo:function(t){return i("/myInfo/myIcityInfo",t,"GET")},getPlayingDetail:function(t){return i("/course/enterPlaying",t,"GET")}});e.default=a}}]);